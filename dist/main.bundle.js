(()=>{"use strict";let e=new Date,t=e.getMonth()+1+"."+e.getDate()+"."+e.getFullYear();document.getElementById("generate").addEventListener("click",(function(e){const c=document.getElementById("zip").value,d=document.getElementById("feelings").value;n("http://api.openweathermap.org/data/2.5/forecast?q=",c,"&appid=7d38d465a29eb943d38c8ba4cab402a9&units=imperial").then((function(e){console.log(e),a("/add",{date:t,temp:e.list[0].main.temp,content:d}),o()}))}));const n=async(e,t,n)=>{const a=await fetch(e+t+n);try{return await a.json()}catch(e){console.log("error",e)}},a=async(e="",t={})=>{console.log(t);const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{return await n.json()}catch(e){console.log("error",e)}},o=async()=>{const e=await fetch("/all");try{const t=await e.json();console.log(t),document.getElementById("date").innerHTML=`The date is ${t.date}`,document.getElementById("temp").innerHTML=`The Temperature in Fahrenheit is ${Math.round(t.temp)} degress`,document.getElementById("content").innerHTML=`I am feeling ${t.content}`}catch(e){console.log("error",e)}};window.addEventListener("DOMContentLoaded",(e=>{document.getElementById("form").addEventListener("submit",handleSubmit)}))})();