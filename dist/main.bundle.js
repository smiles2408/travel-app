(()=>{"use strict";const e=async(e="",t={})=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{return await n.json()}catch(e){console.log("error",e)}},t=e=>{document.getElementById("destinationcity").innerHTML=`You are travelling to ${e.destination.city}`,document.getElementById("destinationcountry").innerHTML=`The Destination country is ${e.destination.city}`,document.getElementById("countrycode").innerHTML=`The Destination country Code is ${e.destination.country_code}`,document.getElementById("latitude").innerHTML=`The Destination location latitude is ${e.destination.latitude}`,document.getElementById("longitude").innerHTML=`The Destination locations longitude is ${e.destination.longitude}`,document.getElementById("population").innerHTML=`The Destination country's population is ${e.destination.population}`};window.addEventListener("DOMContentLoaded",(n=>{document.getElementById("app").addEventListener("submit",(function(n){n.preventDefault(),function(){let n=document.getElementById("cityfrom").value,o=document.getElementById("cityto").value,i=document.getElementById("traveldate1").value,a=document.getElementById("details").value,d={departure:n,destination:o,traveldate:i,additionaldata:a};console.log(n,o,i,a);let l,s=(e=>{let t=new Date;console.log(t),e=new Date(e),console.log(e);let n=(e-t)/1e3/60/60/24;return Math.round(n)})(i);console.log(s),localStorage.setItem("vacationCountdown",s),document.getElementById("days").innerHTML=s>0?`Days left for your Vacation is ${s}.`:"Please enter a future date from today. ",console.log(d),l=e("/addTrip",d).then((e=>(t(e),e))),sessionStorage.newTrip=JSON.stringify(l)}()}))}))})();